# UI 布局设计 - Knowledge Studio

**版本**: v1.0
**日期**: 2025-10-26

本文档描述 Knowledge Studio 桌面应用的核心页面布局和交互设计。

---

## 📋 目录

1. [整体布局结构](#1-整体布局结构)
2. [主对话界面](#2-主对话界面)
3. [知识管理界面](#3-知识管理界面)
4. [知识点探索界面](#4-知识点探索界面)
5. [设置界面](#5-设置界面)
6. [特殊状态](#6-特殊状态)

---

## 1. 整体布局结构

### 1.1 应用窗口布局

```
┌──────────────────────────────────────────────────────────────────┐
│ 🟢🟡🔴 Knowledge Studio                    [@团队] [☁️] [⚙️]      │  ← 标题栏 (40px)
├──────────────┬──────────────────────────────────────────────────┤
│              │                                                  │
│              │                                                  │
│              │                                                  │
│   侧边栏     │              主内容区                             │
│   (256px)    │                                                  │
│              │                                                  │
│              │                                                  │
│              │                                                  │
│              │                                                  │
├──────────────┴──────────────────────────────────────────────────┤
│ [🔍 搜索]  [📊 图谱]  [⚙️ 设置]                                 │  ← 底栏 (48px)
└──────────────────────────────────────────────────────────────────┘
```

**布局说明**:
- **标题栏** (40px): 应用标题、团队切换、同步状态、设置
- **侧边栏** (256px, 可调整): 导航、项目、标签、团队
- **主内容区** (剩余空间): 对话、知识管理、设置等主要内容
- **底栏** (48px): 全局操作快捷入口

**可调整元素**:
- 侧边栏宽度: 200px - 400px (拖拽调整)
- 侧边栏可折叠: 折叠后宽度 64px (仅显示图标)

### 1.2 窗口尺寸

**最小窗口**:
- 宽度: 1024px
- 高度: 768px

**推荐窗口**:
- 宽度: 1280px
- 高度: 800px

**最大化 / 全屏**:
- 支持原生全屏模式
- 支持窗口最大化

---

## 2. 主对话界面

### 2.1 对话列表视图

当用户没有打开具体对话时的默认视图。

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ [新对话]  [模型: GPT-4 ▼]  [模板 ▼]                 │
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│  └ 技术    │                                                     │
│  └ 产品    │  ┌─────────────────────────────────────────────┐   │
│  └ 创意    │  │ 📄 React 性能优化                           │   │
│            │  │ 🤖 GPT-4  📁 技术  🏷️ React  🕐 2天前      │   │
│ 🏷️ 标签    │  │ "使用 React.memo() 和 useMemo..."         │   │
│  └ React   │  │ 💡 3 个知识点  🔍 2 个探索                │   │
│  └ Python  │  └─────────────────────────────────────────────┘   │
│            │                                                     │
│ ⭐ 收藏    │  ┌─────────────────────────────────────────────┐   │
│            │  │ 📄 Python 异步编程详解                      │   │
│ 🕐 最近    │  │ 🤖 Claude 3.5  📁 技术  🕐 1周前          │   │
│            │  │ "async/await 的工作原理..."               │   │
│ 👥 团队    │  └─────────────────────────────────────────────┘   │
│            │                                                     │
│            │  ┌─────────────────────────────────────────────┐   │
│            │  │ 📄 产品需求分析方法                         │   │
│            │  │ 🤖 GPT-4  📁 产品  🕐 3天前               │   │
│            │  │ "如何进行有效的需求分析..."               │   │
│            │  └─────────────────────────────────────────────┘   │
│            │                                                     │
│            │  [加载更多...]                                     │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

**交互**:
- 点击对话卡片: 打开对话详情
- Hover 卡片: 显示快捷操作（编辑、删除、分享）
- 拖拽卡片: 移动到项目
- 新对话按钮: 创建新对话

**卡片信息**:
- 标题
- 模型图标 + 名称
- 项目、标签
- 创建时间
- 内容预览（前 80 字）
- 知识点统计
- 探索对话数量

### 2.2 对话详情视图

打开具体对话时的界面。

```
┌────────────┬────────────────────────────────────────┬────────────┐
│            │ [≡ 返回列表]  React 性能优化  [⋮ 更多] │ 📍 知识点  │
│ 📁 项目    ├────────────────────────────────────────┤            │
│  └ 技术    │ [🏷️ React] [🏷️ 性能] [⭐ 收藏]        │ [全部 8]   │
│  └ 产品    ├────────────────────────────────────────┤            │
│            │                                        │ ❓ 不理解  │
│ 🏷️ 标签    │  ┌──────────────────────────────────┐ │ React.memo │
│  └ React   │  │ 👤 用户 (12:30)                  │ │ "memo 和   │
│  └ Python  │  │ 如何优化 React 性能?             │ │ useMemo   │
│            │  └──────────────────────────────────┘ │ 区别?"     │
│ ⭐ 收藏    │                                        │ [深入探索] │
│            │  ┌──────────────────────────────────┐ │            │
│ 🕐 最近    │  │ 🤖 GPT-4 (12:30)                 │ │ ⚠️ 学习中  │
│            │  │ React 性能优化有以下几个方向:    │ │ useMemo   │
│ 👥 团队    │  │                                  │ │ ...        │
│            │  │ 1. 使用【React.memo()】❓        │ │            │
│            │  │    可以避免不必要的组件重渲染    │ │ ✅ 已掌握  │
│            │  │                                  │ │ 虚拟列表   │
│            │  │ 2. 使用【useMemo】⚠️             │ │            │
│            │  │    缓存计算结果...               │ │            │
│            │  │                                  │ │ 📊 进度    │
│            │  │ [💾 项目] [🔗 链接] [💬 评论]     │ │ 37% (3/8)  │
│            │  └──────────────────────────────────┘ │            │
│            │                                        │ [查看图谱] │
│            ├────────────────────────────────────────┤            │
│            │ [输入框]                               │            │
│            │ 继续提问...                            │            │
│            │                                        │            │
│            │ [📎 附件] [发送 ⏎] Token: 1.2k/4k     │            │
├────────────┴────────────────────────────────────────┴────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

**布局说明**:
- **左侧**: 侧边栏（与列表视图相同）
- **中间**: 对话内容区
  - 顶部: 对话标题 + 操作
  - 标签栏: 显示标签和收藏状态
  - 消息区: 用户和 AI 的对话
  - 底部: 输入框 + 发送
- **右侧**: 知识点面板 (300px, 可折叠)

**消息样式**:
- 用户消息: 右对齐，主色调背景
- AI 消息: 左对齐，灰色背景
- 知识点标注: 高亮显示（不同颜色）
- 代码块: Markdown 渲染，语法高亮

**交互**:
- 选中文本: 显示"标记知识点"按钮
- Hover 知识点: 显示笔记预览
- 点击知识点: 打开详情面板
- 输入框: 支持 Markdown、快捷键发送

### 2.3 模型切换面板

点击模型选择器时弹出的面板。

```
┌─────────────────────────────────────────┐
│ 选择模型                                │
├─────────────────────────────────────────┤
│ OpenAI                                  │
│ ● GPT-4 Turbo               [⚡ 快速]   │
│ ○ GPT-4                     [💪 强大]   │
│ ○ GPT-3.5 Turbo             [💰 经济]   │
│                                         │
│ Anthropic                               │
│ ○ Claude 3.5 Sonnet         [🎯 平衡]   │
│ ○ Claude 3 Opus             [💡 创意]   │
│                                         │
│ Google                                  │
│ ○ Gemini 1.5 Pro            [📊 分析]   │
│                                         │
│ Ollama (本地)                           │
│ ○ Llama 3                   [🔒 私密]   │
│                                         │
├─────────────────────────────────────────┤
│ 💡 Tip: 使用 Cmd+M 快速切换             │
└─────────────────────────────────────────┘
```

**特性**:
- 显示所有已配置的模型
- 标记当前选中的模型
- 显示模型特点标签
- 支持键盘导航（↑↓ Enter）

---

## 3. 知识管理界面

### 3.1 项目视图

点击侧边栏的项目时展开的视图。

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ 📁 技术项目                        [编辑] [+ 子项目] │
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│  ▼ 技术    │                                                     │
│    └ React │  📊 统计                                            │
│  └ 产品    │  ├─ 对话数: 45                                      │
│            │  ├─ 知识点: 128 (✅ 85  ⚠️ 32  ❓ 11)              │
│ 🏷️ 标签    │  ├─ 最近更新: 2小时前                               │
│  └ React   │  └─ 成员: 张三、李四                                │
│  └ Python  │                                                     │
│            │  🏷️ 热门标签                                        │
│ ⭐ 收藏    │  [React 23] [性能 15] [Hooks 12] [组件 8]          │
│            │                                                     │
│ 🕐 最近    │  📄 最近对话                                        │
│            │  ┌───────────────────────────────────────────────┐ │
│ 👥 团队    │  │ React 性能优化                                │ │
│            │  │ 🤖 GPT-4  🕐 2小时前  💡 3 知识点            │ │
│            │  └───────────────────────────────────────────────┘ │
│            │                                                     │
│            │  ┌───────────────────────────────────────────────┐ │
│            │  │ React Hooks 最佳实践                          │ │
│            │  │ 🤖 Claude 3.5  🕐 1天前  ✅ 所有知识点已掌握 │ │
│            │  └───────────────────────────────────────────────┘ │
│            │                                                     │
│            │  [查看所有对话 →]                                  │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

**信息层级**:
1. 项目统计（对话数、知识点、成员）
2. 热门标签
3. 最近对话

### 3.2 标签视图

点击标签时的筛选视图。

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ 🏷️ React                           [编辑] [+ 合并]  │
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│  └ 技术    │                                                     │
│            │  📊 23 个对话  •  58 个知识点                       │
│ 🏷️ 标签    │  ✅ 已掌握: 42  ⚠️ 学习中: 12  ❓ 待学习: 4        │
│  ▼ React   │                                                     │
│  └ Python  │  🔗 相关标签                                        │
│            │  [性能 15] [Hooks 12] [组件 8] [优化 6]            │
│ ⭐ 收藏    │                                                     │
│            │  📄 对话列表                                        │
│ 🕐 最近    │  ┌───────────────────────────────────────────────┐ │
│            │  │ React 性能优化                                │ │
│ 👥 团队    │  │ 📁 技术  🕐 2天前  💡 3 知识点               │ │
│            │  └───────────────────────────────────────────────┘ │
│            │                                                     │
│            │  ┌───────────────────────────────────────────────┐ │
│            │  │ React Hooks 深入理解                          │ │
│            │  │ 📁 学习  🕐 5天前  ✅ 8 知识点               │ │
│            │  └───────────────────────────────────────────────┘ │
│            │                                                     │
│            │  [加载更多...]                                     │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

### 3.3 搜索结果页

全局搜索 (Cmd+K) 的结果展示。

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ 🔍 搜索: "性能优化"                [筛选 ▼] [排序 ▼]│
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│  └ 技术    │                                                     │
│            │  找到 12 个对话，35 个知识点                         │
│ 🏷️ 标签    │                                                     │
│  └ React   │  📄 对话结果 (8)                                    │
│  └ Python  │  ┌───────────────────────────────────────────────┐ │
│            │  │ React 性能优化完整指南                        │ │
│ ⭐ 收藏    │  │ ...使用 React.memo() 可以有效优化性能...      │ │
│            │  │ 🤖 GPT-4  📁 技术  🏷️ React  🕐 2天前        │ │
│ 🕐 最近    │  └───────────────────────────────────────────────┘ │
│            │                                                     │
│ 👥 团队    │  ┌───────────────────────────────────────────────┐ │
│            │  │ Python 性能分析工具                           │ │
│            │  │ ...cProfile 可以帮助优化性能瓶颈...          │ │
│            │  │ 🤖 Claude 3.5  📁 技术  🕐 1周前             │ │
│            │  └───────────────────────────────────────────────┘ │
│            │                                                     │
│            │  📍 知识点结果 (4)                                  │
│            │  ┌───────────────────────────────────────────────┐ │
│            │  │ ❓ useMemo 性能优化                           │ │
│            │  │ 出现在: React Hooks 最佳实践                  │ │
│            │  │ "什么时候使用 useMemo?"                       │ │
│            │  └───────────────────────────────────────────────┘ │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

**搜索特性**:
- 实时搜索建议
- 高亮匹配关键词
- 显示匹配上下文
- 按相关性排序
- 支持高级筛选（时间、模型、项目、标签）

---

## 4. 知识点探索界面

### 4.1 知识点详情面板

点击知识点标注时弹出的侧边面板。

```
┌──────────────────────────────────────┐
│ 📍 React.memo()          [✕ 关闭]    │
├──────────────────────────────────────┤
│                                      │
│ 💡 理解状态                          │
│ ● ❓ 不理解                          │
│ ○ ⚠️ 部分理解                        │
│ ○ ✅ 已掌握                          │
│                                      │
│ 💬 我的疑问                          │
│ ┌────────────────────────────────┐   │
│ │ memo 和 useMemo 有什么区别?    │   │
│ │                                │   │
│ └────────────────────────────────┘   │
│ [编辑]                               │
│                                      │
│ 📝 笔记                              │
│ ┌────────────────────────────────┐   │
│ │ React.memo() 是高阶组件...     │   │
│ │                                │   │
│ └────────────────────────────────┘   │
│ [编辑]                               │
│                                      │
│ 📖 出现在对话                         │
│ • React 性能优化 (原始)               │
│ • React.memo 深度解析 (探索)         │
│                                      │
│ 🔍 探索历史                          │
│ └─ React.memo 深度解析 (1天前)       │
│    状态: ⚠️ 部分理解                 │
│                                      │
│ ⏱️ 时间线                            │
│ • 2025-10-20: 初次标注               │
│ • 2025-10-21: 深度探索               │
│ • 2025-10-22: 更新为部分理解         │
│                                      │
├──────────────────────────────────────┤
│ [🔍 深入探索]  [✅ 标记已掌握]        │
└──────────────────────────────────────┘
```

**操作**:
- 更新理解状态
- 编辑疑问和笔记
- 查看相关对话
- 发起深度探索
- 查看时间线

### 4.2 探索链视图

显示知识点的探索链条。

```
┌──────────────────────────────────────────────────────────┐
│ 探索链: React.memo()                        [查看图谱]    │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  📖 React 性能优化 (原始对话)                            │
│      ↓                                                   │
│  📍 React.memo() ❓                                       │
│      ↓                                                   │
│  🔍 React.memo 深度解析                                  │
│      知识点状态: ⚠️ 部分理解                             │
│      发现新疑问: HOC 模式                                │
│      ↓                                                   │
│  📍 HOC 模式 ❓                                           │
│      ↓                                                   │
│  🔍 HOC vs Hooks 对比                                    │
│      知识点状态: ✅ 已掌握                               │
│                                                          │
│  [展开详情]  [继续探索]                                  │
├──────────────────────────────────────────────────────────┤
│ 探索深度: 3层  |  总知识点: 5个  |  已掌握: 2/5 (40%)   │
└──────────────────────────────────────────────────────────┘
```

### 4.3 主题知识库视图 (V1.5)

将相关对话整合成主题。

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ 📚 主题: React 性能优化     [编辑] [导出] [生成图谱] │
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│  └ 技术    │                                                     │
│            │  📊 学习进度                                        │
│ 🏷️ 标签    │  ███████████░░░░░ 65%                               │
│  └ React   │  ✅ 已掌握: 8  ⚠️ 学习中: 3  ❓ 待学习: 1           │
│            │                                                     │
│ ⭐ 收藏    │  📖 包含对话 (5个)                                  │
│            │  • React 性能优化 (原始)                            │
│ 🕐 最近    │  • React.memo 深度解析 (探索)                       │
│            │  • useMemo 使用场景 (探索)                          │
│ 👥 团队    │  • 虚拟列表实现 (探索)                              │
│            │  • 性能分析工具 (补充)                              │
│            │                                                     │
│            │  📍 知识点 (12个)                                   │
│            │  [全部] [不理解] [学习中] [已掌握]                  │
│            │                                                     │
│            │  ✅ React.memo()        ⚠️ useMemo                  │
│            │  ✅ useCallback         ✅ 虚拟列表                 │
│            │  ⚠️ Profiler           ❓ Code Splitting            │
│            │  ...                                                │
│            │                                                     │
│            │  [📊 查看知识图谱]  [📄 生成学习文档]  [🤖 AI 总结] │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

### 4.4 知识图谱视图 (V1.5)

AI 生成的主题知识图谱。

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ 📊 知识图谱: React 性能优化    [缩放] [布局 ▼] [导出]│
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│  └ 技术    │                                                     │
│            │          React 性能优化                             │
│ 🏷️ 标签    │               │                                     │
│  └ React   │       ┌───────┴────────┐                            │
│            │       │                │                            │
│ ⭐ 收藏    │   组件优化          列表优化                         │
│            │       │                │                            │
│ 🕐 最近    │   ┌───┴───┐        ┌───┴───┐                       │
│            │   │       │        │       │                       │
│ 👥 团队    │  memo useMemo  虚拟列表  分页                       │
│            │   ✅     ⚠️       ❓      ✅                        │
│            │   │       │                                         │
│            │   └───┬───┘                                         │
│            │       │                                             │
│            │   性能分析                                           │
│            │       │                                             │
│            │   Profiler                                          │
│            │      ✅                                             │
│            │                                                     │
│            │  [节点: React.memo() ✅]                            │
│            │  定义: 高阶组件，避免不必要的重渲染                  │
│            │  关系: 属于"组件优化"，与"useMemo"相关              │
│            │  [查看详情] [查看对话]                              │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

**交互**:
- 拖拽节点
- 缩放和平移
- 点击节点查看详情
- 点击边查看关系
- 不同布局算法（力导向、层次、径向）

---

## 5. 设置界面

### 5.1 设置页面布局

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ ⚙️ 设置                                              │
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│            │                                                     │
│ 🏷️ 标签    │  [常规] [模型] [团队] [数据] [外观] [快捷键] [关于] │
│            │                                                     │
│ ⭐ 收藏    │  ────────────────────────────────────────────────── │
│            │                                                     │
│ 🕐 最近    │  常规设置                                           │
│            │                                                     │
│ 👥 团队    │  语言                                               │
│            │  [中文 ▼]                                           │
│            │                                                     │
│            │  启动时                                             │
│            │  ☑ 自动打开上次的对话                               │
│            │  ☑ 检查更新                                         │
│            │                                                     │
│            │  对话设置                                           │
│            │  默认模型: [GPT-4 ▼]                                │
│            │  上下文策略: [最近 10 条 ▼]                         │
│            │  自动保存: [实时 ▼]                                 │
│            │                                                     │
│            │  知识点设置                                         │
│            │  ☑ 自动高亮知识点建议                               │
│            │  ☑ 显示理解进度                                     │
│            │                                                     │
│            │  [保存设置]                                         │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

### 5.2 模型配置页面

```
┌────────────┬─────────────────────────────────────────────────────┐
│            │ ⚙️ 设置 > 模型配置                                  │
│ 📁 项目    ├─────────────────────────────────────────────────────┤
│            │                                                     │
│ 🏷️ 标签    │  [常规] [模型] [团队] [数据] [外观] [快捷键] [关于] │
│            │                                                     │
│ ⭐ 收藏    │  ────────────────────────────────────────────────── │
│            │                                                     │
│ 🕐 最近    │  已配置的模型                                       │
│            │                                                     │
│ 👥 团队    │  ┌─────────────────────────────────────────────┐   │
│            │  │ OpenAI GPT-4                    [✓] [编辑]  │   │
│            │  │ API Key: sk-...xxxx              状态: ✓    │   │
│            │  └─────────────────────────────────────────────┘   │
│            │                                                     │
│            │  ┌─────────────────────────────────────────────┐   │
│            │  │ Anthropic Claude 3.5            [✓] [编辑]  │   │
│            │  │ API Key: sk-...xxxx              状态: ✓    │   │
│            │  └─────────────────────────────────────────────┘   │
│            │                                                     │
│            │  [+ 添加新模型]                                    │
│            │                                                     │
│            │  ────────────────────────────────────────────────── │
│            │                                                     │
│            │  添加新模型                                         │
│            │  提供商: [OpenAI ▼]                                │
│            │  API Key: [输入框]                                 │
│            │  Base URL: [可选]                                  │
│            │  [测试连接]  [保存]                                │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

---

## 6. 特殊状态

### 6.1 空状态

**首次使用（无对话）**:
```
┌────────────┬─────────────────────────────────────────────────────┐
│            │                                                     │
│ 📁 项目    │                                                     │
│  (空)      │              👋 欢迎使用 Knowledge Studio           │
│            │                                                     │
│ 🏷️ 标签    │              开始你的第一次 AI 对话                │
│  (空)      │                                                     │
│            │         ┌───────────────────────────────┐           │
│ ⭐ 收藏    │         │     [🆕 创建新对话]          │           │
│            │         └───────────────────────────────┘           │
│ 🕐 最近    │                                                     │
│            │         或者                                        │
│ 👥 团队    │         [📥 导入 ChatGPT 历史]                      │
│            │                                                     │
│            │         💡 提示:                                    │
│            │         • 使用 Cmd+N 快速创建新对话                │
│            │         • 在对话中标注不理解的知识点                │
│            │         • 深入探索形成知识体系                      │
│            │                                                     │
├────────────┴─────────────────────────────────────────────────────┤
│ [🔍 搜索 Cmd+K]  [📊 知识图谱]  [⚙️ 设置]                        │
└──────────────────────────────────────────────────────────────────┘
```

### 6.2 加载状态

**对话加载中**:
```
┌──────────────────────────────────┐
│ 🤖 GPT-4 正在思考...             │
│ ⣾ 生成回答中...                 │
└──────────────────────────────────┘
```

**列表加载（骨架屏）**:
```
┌─────────────────────────────────────┐
│ ▮▮▮▮▮▮▮▮▮▮▮▮▮░░░░░░░░░░            │
│ ▮▮▮▮░░░░  ▮▮▮░░░░  ▮▮▮░░░░        │
│ ▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮▮░░░░        │
└─────────────────────────────────────┘
```

### 6.3 错误状态

**API 错误**:
```
┌──────────────────────────────────────┐
│ ⚠️ 无法连接到 OpenAI                │
│                                      │
│ 错误信息: API key invalid            │
│                                      │
│ [重试]  [检查设置]                   │
└──────────────────────────────────────┘
```

**网络错误**:
```
┌──────────────────────────────────────┐
│ 📡 网络连接已断开                    │
│                                      │
│ 本地数据仍然可用                     │
│ 恢复连接后将自动同步                 │
│                                      │
│ [重试连接]                           │
└──────────────────────────────────────┘
```

---

## 7. 响应式适配

### 7.1 窗口尺寸适配

**小窗口 (1024px)**:
- 侧边栏自动折叠为图标模式（64px）
- 知识点面板自动隐藏
- 对话区占满剩余空间

**中等窗口 (1280px)**:
- 标准三栏布局
- 侧边栏 256px
- 知识点面板 300px

**大窗口 (1920px+)**:
- 对话内容区最大宽度 800px（居中）
- 侧边栏和面板固定宽度
- 两侧留白

### 7.2 折叠状态

**侧边栏折叠**:
```
┌──┬───────────────────────────────┐
│🏠│                               │
│📁│                               │
│🏷️│      主内容区                 │
│⭐│                               │
│🕐│                               │
│👥│                               │
└──┴───────────────────────────────┘
```

**知识点面板折叠**:
- 显示为右侧浮动按钮
- 点击展开覆盖层面板

---

## 附录

### A. 布局网格系统

基于 8px 网格：
- 所有间距都是 8 的倍数
- 组件高度标准: 32px, 40px, 48px
- 最小可点击区域: 44x44px

### B. 布局响应式规则

| 断点 | 侧边栏 | 内容区 | 知识点面板 |
|------|--------|--------|-----------|
| <1024px | 隐藏/抽屉 | 100% | 隐藏 |
| 1024-1280px | 200px | 剩余 | 隐藏 |
| 1280-1600px | 256px | 剩余 | 300px |
| >1600px | 256px | max 800px | 300px |

---

**文档状态**: ✅ 完成
**下一步**: Figma 设计实现 → 组件开发
